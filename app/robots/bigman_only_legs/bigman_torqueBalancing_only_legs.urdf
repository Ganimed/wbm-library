<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from bigman.urdf.xacro              | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="bigman" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- 
  ROS urdf definition of the BIGMAN humanoid robot by Istituto Italiano di Tecnologia
  
  DO NOT INCLUDE THIS FILE DIRECTLY! USE bigman_robot.urdf.xacro INSTEAD!

  Author: Enrico Mingo & Alessio Rocchi

  Inertial matrix has to be in CoM frame (URDF specs)

  Velocity and effort limits are fake!
-->
  <!-- ************ MODEL CONFIGURATION ************ -->
  <!--
####################################################
##
##  BIGMAN_UPPER_BODY
##  if "true" the kinematic chains of the arms and torso 
##  will be used to generate the model
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_LEGS
##  if "true" the kinematic chains of the legs
##  will be used to generate the model
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_OLD_CHEST
##  if "true" the old version of the chest will be
##  used.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_FIXED_HANDS
##  if "true" a fixed joint between wrist and hand 
##  will be used otherwise a rotative joints will
##  be used.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_FIXED_MULTISENSE
##  if "true" a fixed joint between "head" and 
##  "hokuyo_link" will be used otherwise a continuous 
##  joints will be used.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_HEAD
##  if "true" a fixed joint between "NeckPitch" and
##  "head" will be used to connect the head to the rest
##  of the body. If "false" the head will not be added 
##  to the model (this is the case when the multisense
##  from the launch file is used). 
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_ADD_PROTECTIONS
##  if "true" the protections are added to the model.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_ADD_BACKPACK
##  if "true" the backpack is added to the model.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_ADD_RAISING_SUPPORT
##  if "true" the raising support are added to the model.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_NEW_FEET
##  if "true" the new feet with the joint in the middle
##  are used to the model.
##  
##
####################################################
-->
  <!--
####################################################
##
##  BIGMAN_SAFETY_JOINT_LIMITS_X
##  if "true" the more strict joint limits are used 
##  for the X part
##  
##
####################################################
-->
  <!-- ***********  MODEL COLORS *********** -->
  <material name="grey">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <material name="dark_grey">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.2 0.3 1"/>
  </material>
  <!-- ************ BIGMAN BASE ************** -->
  <!-- 
  ROS urdf definition of the BIGMAN humanoid robot by Istituto Italiano di Tecnologia
  
  DO NOT INCLUDE THIS FILE DIRECTLY! USE bigman_robot.urdf.xacro INSTEAD!

  Author: Enrico Mingo & Alessio Rocchi

  Inertial matrix has to be in CoM frame (URDF specs)

  Velocity and effort limits are fake!
-->
  <!--
The coordinate frame called base_link is rigidly attached to the robot root body. It is recommended to choose the robot waist as its root body. The base_link can be attached to the root in any arbitrary position or orientation; for every hardware platform there will be a different place on the base that provides an obvious point of reference. Note that REP 103 [1] specifies a preferred orientation for frames. -->
  <link name="base_link"/>
  <link name="Waist">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="-0.022813402 -0.00073935443 0.030422909"/>
      <mass value="1.1046081e+01"/>
      <inertia ixx="0.096207978" ixy="0.00014081043" ixz="0.0031258127" iyy="0.098511158" iyz="0.00013938149" izz="0.086541531"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="Waist_visual">
        <mesh filename="package://bigman_urdf/meshes/Waist.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="Waist_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/Waist.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base_link"/>
    <child link="Waist"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- ********************FAKE TORSO******************** -->
  <!-- ************** CHANGE BY USER ************** -->
  <!-- ******************************************** -->
  <link name="PelvisWeightBench">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.18846109"/>
      <mass value="5.5278386"/>
      <inertia ixx="0.15195067" ixy="0.0" ixz="-2.419189e-07" iyy="0.15213465" iyz="0.0" izz="0.0051389419"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="PelvisWeightBench_visual">
        <mesh filename="package://bigman_urdf/meshes/PelvisWeightBench.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="PelvisWeightBench_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/PelvisWeightBench.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="ExtraWeight">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.075"/>
      <mass value="20.0"/>
      <inertia ixx="0.1355" ixy="0.0" ixz="0.0" iyy="0.1355" iyz="0.0" izz="0.196"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="ExtraWeight_visual">
        <cylinder length="0.15" radius="0.14"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="ExtraWeight_collision">
        <cylinder length="0.15" radius="0.14"/>
      </geometry>
    </collision>
  </link>
  <joint name="PelvisWeightBench_joint" type="fixed">
    <parent link="Waist"/>
    <child link="PelvisWeightBench"/>
    <origin rpy="0 0 1.57079632679" xyz="-0.035 0 0.075"/>
  </joint>
  <joint name="ExtraWeight_joint" type="fixed">
    <parent link="PelvisWeightBench"/>
    <child link="ExtraWeight"/>
    <origin rpy="0 0 0" xyz="0.0 0 0.39"/>
  </joint>
  <!-- ********************LEGS******************** -->
  <!-- This links are defined in order to be compliant with http://www.ros.org/reps/rep-0120.html#coordinate-frames
	and to define the end effectors of the robot -->
  <!--  position and orientation of the leg regardless of the support body geometry -->
  <link name="l_ankle"/>
  <link name="r_ankle"/>
  <!-- position and orientation of the left leg support body. The (X,Y) plane of this frame must be coplanar with the support body contact surface. It is recommended to choose the origin as the projection of the support body origin on the contact surface. The Z coordinate of this frame should be on the ground level when standing. -->
  <link name="l_sole"/>
  <link name="r_sole"/>
  <!--  position and orientation of the leg toe body. The (X,Y) plan of this frame must be coplanar with the toe body contact surface. It is recommended to choose the origin as the projection of the body center on the contact surface. -->
  <link name="l_toe"/>
  <link name="r_toe"/>
  <!-- LINKS -->
  <!-- ********************RIGHT LEG******************** -->
  <link name="RHipMot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.10348188 -0.10919813 -0.064924056"/>
      <mass value="3.7958197"/>
      <inertia ixx="0.015639017" ixy="0.0018504661" ixz="0.0023907793" iyy="0.023519749" iyz="-0.0023303162" izz="0.020953643"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RHipMot_visual">
        <mesh filename="package://bigman_urdf/meshes/HipRoll.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RHipMot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipRoll.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="RThighUpLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0052929709 -0.022561833 0.0056701669"/>
      <mass value="3.2402068"/>
      <inertia ixx="0.010102097" ixy="0.00010858487" ixz="0.00025291395" iyy="0.0067147" iyz="8.3447072e-05" izz="0.01048513"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RThighUpLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/HipYaw.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RThighUpLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipYaw.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="RThighLowLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="0.037746286 -0.028539939 -0.19310133"/>
      <mass value="5.0950736"/>
      <inertia ixx="0.051607858" ixy="0.0022253472" ixz="0.002452979" iyy="0.044349153" iyz="-0.0041006942" izz="0.023374453"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RThighLowLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/HipPitch.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RThighLowLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipPitch.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="RLowLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0050828668 0.0037732093 -0.072605017"/>
      <mass value="5.6495309"/>
      <inertia ixx="0.10535542" ixy="-0.00058199221" ixz="0.0016743598" iyy="0.097857796" iyz="-0.0033770181" izz="0.020854086"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RLowLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/KneePitchCalf.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RLowLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/KneePitchCalf.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="RFootmot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.022024173 0.0025677238 0.00094588455"/>
      <mass value="3.2844159"/>
      <inertia ixx="0.0075550679" ixy="0.00067488292" ixz="5.8332889e-05" iyy="0.011241163" iyz="-0.00014552081" izz="0.013391865"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RFootmot_visual">
        <mesh filename="package://bigman_urdf/meshes/AnklePitch.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RFootmot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/AnklePitch.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="RFoot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00653584 -0.00479384 -0.10180375"/>
      <mass value="3.42638110"/>
      <inertia ixx="0.01032886" ixy="-0.00016407" ixz="-0.00201294" iyy="0.02854025" iyz="0.00046315" izz="0.02799499"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="RFoot_visual">
        <mesh filename="package://bigman_urdf/meshes/NewFoot.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <!--<origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry name="RFoot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/Foot.STL" scale="0.001 -0.001 0.001"/>
      </geometry>-->
      <origin rpy="0 0 0" xyz="0.005 -0.01 -0.1359"/>
      <geometry>
        <box size="0.32 0.16 0.015"/>
      </geometry>
    </collision>
  </link>
  <!-- ********************LEFT LEG******************** -->
  <link name="LHipMot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.10348188 0.10919813 -0.064924056"/>
      <mass value="3.7958197"/>
      <inertia ixx="0.015639017" ixy="-0.0018504661" ixz="0.0023907793" iyy="0.023519749" iyz="0.0023303162" izz="0.020953643"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LHipMot_visual">
        <mesh filename="package://bigman_urdf/meshes/HipRoll.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LHipMot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipRoll.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="LThighUpLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0052929709 0.022561833 0.0056701669"/>
      <mass value="3.2402068"/>
      <inertia ixx="0.010102097" ixy="-0.00010858487" ixz="0.00025291395" iyy="0.0067147" iyz="-8.3447072e-05" izz="0.01048513"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LThighUpLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/HipYaw.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LThighUpLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipYaw.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="LThighLowLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="0.037746286 0.028539939 -0.19310133"/>
      <mass value="5.0950736"/>
      <inertia ixx="0.051607858" ixy="-0.0022253472" ixz="0.002452979" iyy="0.044349153" iyz="0.0041006942" izz="0.023374453"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LThighLowLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/HipPitch.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LThighLowLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/HipPitch.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="LLowLeg">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0050828668 -0.0037732093 -0.072605017"/>
      <mass value="5.6495309"/>
      <inertia ixx="0.10535542" ixy="0.00058199221" ixz="0.0016743598" iyy="0.097857796" iyz="0.0033770181" izz="0.020854086"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LLowLeg_visual">
        <mesh filename="package://bigman_urdf/meshes/KneePitchCalf.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LLowLeg_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/KneePitchCalf.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="LFootmot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.022024173 -0.0025677238 0.00094588455"/>
      <mass value="3.2844159"/>
      <inertia ixx="0.0075550679" ixy="-0.00067488292" ixz="5.8332889e-05" iyy="0.011241163" iyz="0.00014552081" izz="0.013391865"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LFootmot_visual">
        <mesh filename="package://bigman_urdf/meshes/AnklePitch.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LFootmot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/AnklePitch.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="LFoot">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00653584 0.00479384 -0.10180375"/>
      <mass value="3.42638110"/>
      <inertia ixx="0.01032886" ixy="-0.00016407" ixz="-0.00201294" iyy="0.02854025" iyz="0.00046315" izz="0.02799499"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="LFoot_visual">
        <mesh filename="package://bigman_urdf/meshes/NewFoot.STL" scale="0.001 -0.001 0.001"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <!--
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry name="LFoot_collision">
        <mesh filename="package://bigman_urdf/meshes/simple/Foot.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      -->
      <origin rpy="0 0 0" xyz="0.005 0.01 -0.1359"/>
      <geometry>
        <box size="0.32 0.16 0.015"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINTS -->
  <!-- ********************RIGHT LEG******************** -->
  <joint name="RHipLat" type="revolute">
    <parent link="Waist"/>
    <child link="RHipMot"/>
    <origin rpy="0 0 0" xyz="0.1059 -0.06 0.0"/>
    <axis xyz="1 0 0"/>
    <limit effort="400" lower="-0.87222" upper="0.697778" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="RHipYaw" type="revolute">
    <parent link="RHipMot"/>
    <child link="RThighUpLeg"/>
    <origin rpy="0 0 0" xyz="-0.0889 -0.121032 -0.217872"/>
    <axis xyz="0 0 1"/>
    <limit effort="140" lower="-1.57" upper="0.872222" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="RHipSag" type="revolute">
    <parent link="RThighUpLeg"/>
    <child link="RThighLowLeg"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="400" lower="-2.09333" upper="1.046667" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="RKneeSag" type="revolute">
    <parent link="RThighLowLeg"/>
    <child link="RLowLeg"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 -0.356"/>
    <axis xyz="0 1 0"/>
    <limit effort="400" lower="0.0" upper="2.442222" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="RAnkSag" type="revolute">
    <parent link="RLowLeg"/>
    <child link="RFootmot"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 -0.4"/>
    <axis xyz="0 1 0"/>
    <limit effort="330" lower="-1.39556" upper="0.697778" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="RAnkLat" type="revolute">
    <parent link="RFootmot"/>
    <child link="RFoot"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <axis xyz="1 0 0"/>
    <limit effort="210" lower="-0.785" upper="0.785" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <!-- ********************LEFT LEG******************** -->
  <joint name="LHipLat" type="revolute">
    <parent link="Waist"/>
    <child link="LHipMot"/>
    <origin rpy="0 0 0" xyz="0.1059 0.06 0.0"/>
    <axis xyz="1 0 0"/>
    <limit effort="400" lower="-0.697778" upper="0.87222" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="LHipYaw" type="revolute">
    <parent link="LHipMot"/>
    <child link="LThighUpLeg"/>
    <origin rpy="0 0 0" xyz="-0.0889 0.121032 -0.217872"/>
    <axis xyz="0 0 1"/>
    <limit effort="140" lower="-0.872222" upper="1.57" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="LHipSag" type="revolute">
    <parent link="LThighUpLeg"/>
    <child link="LThighLowLeg"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="400" lower="-2.09333" upper="1.046667" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="LKneeSag" type="revolute">
    <parent link="LThighLowLeg"/>
    <child link="LLowLeg"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 -0.356"/>
    <axis xyz="0 1 0"/>
    <limit effort="400" lower="0.0" upper="2.442222" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="LAnkSag" type="revolute">
    <parent link="LLowLeg"/>
    <child link="LFootmot"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 -0.4"/>
    <axis xyz="0 1 0"/>
    <limit effort="330" lower="-1.39556" upper="0.697778" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="LAnkLat" type="revolute">
    <parent link="LFootmot"/>
    <child link="LFoot"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <axis xyz="1 0 0"/>
    <limit effort="210" lower="-0.785" upper="0.785" velocity="6.283"/>
    <dynamics damping="3.0" friction="0"/>
  </joint>
  <joint name="l_ankle_joint" type="fixed">
    <parent link="LFoot"/>
    <child link="l_ankle"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="r_ankle_joint" type="fixed">
    <parent link="RFoot"/>
    <child link="r_ankle"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="l_sole_joint" type="fixed">
    <parent link="LFoot"/>
    <child link="l_sole"/>
    <origin rpy="0 0 0" xyz="0 0 -0.1435"/>
  </joint>
  <joint name="r_sole_joint" type="fixed">
    <parent link="RFoot"/>
    <child link="r_sole"/>
    <origin rpy="0 0 0" xyz="0 0 -0.1435"/>
  </joint>
  <joint name="l_toe_joint" type="fixed">
    <parent link="l_sole"/>
    <child link="l_toe"/>
    <origin rpy="0 0 0" xyz="0.16 0 0"/>
  </joint>
  <joint name="r_toe_joint" type="fixed">
    <parent link="r_sole"/>
    <child link="r_toe"/>
    <origin rpy="0 0 0" xyz="0.16 0 0"/>
  </joint>
  <!-- Reference frames in feet -->
  <!-- macro for reference frames in foot -->
  <!-- macro for one reference frame in foot -->
  <link name="l_foot_upper_right_link"/>
  <joint name="l_foot_upper_right_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.16 -0.07 0"/>
    <parent link="l_sole"/>
    <child link="l_foot_upper_right_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="l_foot_upper_left_link"/>
  <joint name="l_foot_upper_left_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.16 0.09 0"/>
    <parent link="l_sole"/>
    <child link="l_foot_upper_left_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="l_foot_lower_right_link"/>
  <joint name="l_foot_lower_right_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.16 -0.07 0"/>
    <parent link="l_sole"/>
    <child link="l_foot_lower_right_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="l_foot_lower_left_link"/>
  <joint name="l_foot_lower_left_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.16 0.09 0"/>
    <parent link="l_sole"/>
    <child link="l_foot_lower_left_link"/>
  </joint>
  <!-- macro for reference frames in foot -->
  <!-- macro for one reference frame in foot -->
  <link name="r_foot_upper_right_link"/>
  <joint name="r_foot_upper_right_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.16 0.07 0"/>
    <parent link="r_sole"/>
    <child link="r_foot_upper_right_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="r_foot_upper_left_link"/>
  <joint name="r_foot_upper_left_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.16 -0.09 0"/>
    <parent link="r_sole"/>
    <child link="r_foot_upper_left_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="r_foot_lower_right_link"/>
  <joint name="r_foot_lower_right_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.16 0.07 0"/>
    <parent link="r_sole"/>
    <child link="r_foot_lower_right_link"/>
  </joint>
  <!-- macro for one reference frame in foot -->
  <link name="r_foot_lower_left_link"/>
  <joint name="r_foot_lower_left_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.16 -0.09 0"/>
    <parent link="r_sole"/>
    <child link="r_foot_lower_left_link"/>
  </joint>
  <!-- ***** LEGS F/T SENSOR REF FRAMES *******-->
  <link name="l_leg_ft"/>
  <link name="r_leg_ft"/>
  <joint name="l_leg_ft_joint" type="fixed">
    <parent link="LFoot"/>
    <child link="l_leg_ft"/>
    <origin rpy="0 0 0" xyz="0.005 0 -0.107"/>
  </joint>
  <joint name="r_leg_ft_joint" type="fixed">
    <parent link="RFoot"/>
    <child link="r_leg_ft"/>
    <origin rpy="0 0 0" xyz="0.005 0 -0.107"/>
  </joint>
 <!-- ************ MODIFIED TO FIT THE FT SENSORS
 REQUIREMENTS FOR WHOLEBODYDYNAMICS3 ************ -->
 <!-- <gazebo reference="r_leg_ft_joint"> -->
 	<sensor name="r_leg_ft_sensor" type="force_torque">
		<parent joint="RAnkLat"/>
        	<force_torque>
          		<!-- <frame>sensor</frame> -->
          		<frame>child</frame>
          		<measure_direction>child_to_parent</measure_direction>
        	</force_torque>
                <always_on>1</always_on>
         	<!-- <visualize>1</visualize> -->
          	<update_rate>1000</update_rate>
        	<!-- <pose frame=''>0.005 0 -0.107 0 -0 0</pose> -->
        	<!-- <plugin name='RAnkSag_FT_plugin' filename='libgazebo_yarp_forcetorque.so'>
          		<yarpConfigurationFile>model://bigman_urdf/conf/bigman/bigman_gazebo_right_leg_ft.ini</yarpConfigurationFile>
        	</plugin> -->
      	</sensor>
 <!-- </gazebo> -->
<!-- <gazebo reference="l_leg_ft_joint"> -->
 	<sensor name="l_leg_ft_sensor" type="force_torque">
        	<parent joint="LAnkLat"/>
		<force_torque>
          		<!-- <frame>sensor</frame>  -->
          		<frame>child</frame>
          		<measure_direction>child_to_parent</measure_direction>
        	</force_torque>
        	<always_on>1</always_on>  	
         	<!-- <visualize>1</visualize> -->
        	<update_rate>1000</update_rate> 	
        	<!-- <pose frame=''>0.005 0 -0.107 0 -0 0</pose>  -->
        	<!-- <plugin name='LAnkSag_FT_plugin' filename='libgazebo_yarp_forcetorque.so'>
          		<yarpConfigurationFile>model://bigman_urdf/conf/bigman/bigman_gazebo_left_leg_ft.ini</yarpConfigurationFile>
        	</plugin> -->
      	</sensor>
<!-- </gazebo> -->
  <!-- IMU -->
  <link name="imu_link">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0E-6" ixy="0" ixz="0" iyy="1.0E-6" iyz="0" izz="1.0E-6"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </visual>
  </link>
  <link name="imu_link2">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0E-6" ixy="0" ixz="0" iyy="1.0E-6" iyz="0" izz="1.0E-6"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </visual>
  </link>
  <joint name="imu_joint" type="fixed">
    <parent link="Waist"/>
    <child link="imu_link"/>
    <origin rpy="0 0 0" xyz="0.0535 0.0 0.0601"/>
  </joint>
  <joint name="imu_joint2" type="fixed">
    <parent link="Waist"/>
    <child link="imu_link2"/>
    <origin rpy="0 0 0" xyz="0.0135 0.0 0.0601"/>
  </joint>
<!-- ADDED THE IMPLICIT SPRING DAMPER -->
 <gazebo reference="RHipLat">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="RHipYaw">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="RHipSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="RKneeSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="RAnkSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="RAnkLat">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LHipLat">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LHipYaw">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LHipSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LKneeSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LAnkSag">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
 <gazebo reference="LAnkLat">
    <implicitSpringDamper>1</implicitSpringDamper>
 </gazebo>
</robot>

